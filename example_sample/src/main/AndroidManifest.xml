<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:tools="http://schemas.android.com/tools"
          xmlns:android="http://schemas.android.com/apk/res/android">

    <!-- 开机启动 -->
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>

    <!-- 网络 -->
    <uses-permission android:name="android.permission.INTERNET"/>


    <!-- 本地文件读权限 -->
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
    <!-- 本地文件写权限 -->
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>

    <!-- 手机状态 -->
    <uses-permission android:name="android.permission.READ_PHONE_STATE"/>

  <application
      android:name=".MainApplication"
      android:allowBackup="true"
      android:icon="@mipmap/ic_launcher"
      android:label="@string/app_name"
      android:roundIcon="@mipmap/ic_launcher_round"
      android:theme="@style/AppTheme"
      tools:ignore="GoogleAppIndexingWarning,android:appComponentFactory"
      tools:overrideLibrary="com.didichuxing.doraemonkit">
    <!-- 注意：不能设置为singleTask -->
    <activity
        android:name=".MainActivity"
        android:alwaysRetainTaskState="true"
        android:configChanges="keyboardHidden|orientation|screenSize|locale"
        android:exported="true"
        android:theme="@style/Base_SplashTheme">
      <intent-filter>
        <action android:name="android.intent.action.MAIN" />

        <category android:name="android.intent.category.LAUNCHER" />
      </intent-filter>
    </activity>

    <receiver
        android:exported="true"
        android:name="com.georgebindragon.base.receiver.UtilsReceiver" >
      <intent-filter>

        <!-- 屏蔽开机启动广播，App自行实现，因为可能会有回调不及时的问题 -->
        <!-- <action android:name="android.intent.action.BOOT_COMPLETED"/> -->
        <action android:name="android.intent.action.ACTION_SHUTDOWN" />
      </intent-filter>
    </receiver>


    <activity-alias
        android:exported="true"
        android:name="leakcanary.internal.activity.LeakLauncherActivity"
        android:enabled="@bool/leak_canary_add_launcher_icon"
        android:icon="@mipmap/leak_canary_icon"
        android:label="@string/leak_canary_display_activity_label"
        android:targetActivity="leakcanary.internal.activity.LeakActivity"
        android:taskAffinity="com.squareup.leakcanary.${applicationId}"
        android:theme="@style/leak_canary_LeakCanary.Base" >
      <intent-filter>
        <action android:name="android.intent.action.MAIN" />

        <category android:name="android.intent.category.LAUNCHER" />
      </intent-filter>
    </activity-alias>


  </application>

</manifest>